name: ci

on:
  push:
    branches:
      - "**"
    tags:
      - "v*.*.*"
  pull_request:
    branches:
      - "main"

jobs:
    setup:
        runs-on: ubuntu-latest
        outputs:
            env_name: ${{ steps.set-env_name.outputs.env_name }}
        steps:
        -   name: Checkout
            uses: actions/checkout@v3
        -   run: "echo deployment for $API_ENV"
        -   name: set commit hash
            id: commit-hash
            run: echo "COMMIT_HASH=$(git rev-parse --short HEAD)" >> "$GITHUB_OUTPUT"
        -   name: Set target env name var
            id: set-env_name
            run: echo ${{steps.commit-hash.COMMIT_HASH}}
    
